import{y as re,I as Ee,an as Pe,k as we,B as de,Z as Me,t as Re,u as ke,aC as Xe,ai as ce,C as Q,am as He,ah as We,aD as De,aj as Ne,aE as ne,aF as fe,E as N,ax as Ue,g as Fe,z as me,d as _,b as p,aG as te,K as ae,ak as Ye,aH as Ke,aa as je,av as qe,j as P,r as C,H as Be,au as ve,a5 as pe,a1 as Ze,h as Ge,f as V,o as y,n as k,w as b,p as oe,a as c,q as v,v as ye,a4 as q,c as U,L as Z,M as R,a0 as X,aI as G,e as L,x as se,T as Je,Q as Se,ay as Te,aA as Ie,a6 as ge,N as Qe,S as _e,az as he,P as be,_ as $e,F as xe}from"./index-2657bbb7.js";import{J as en,a as Ve,E as Le,I as nn}from"./el-input-7a021aec.js";let J;const tn=e=>{var n;if(!re)return 0;if(J!==void 0)return J;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const l=t.offsetWidth;t.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",t.appendChild(s);const a=s.offsetWidth;return(n=t.parentNode)==null||n.removeChild(t),J=l-a,J},on=e=>["",...en].includes(e),sn=(e,n,t)=>{let l={offsetX:0,offsetY:0};const s=d=>{const i=d.clientX,o=d.clientY,{offsetX:m,offsetY:g}=l,u=e.value.getBoundingClientRect(),E=u.left,S=u.top,h=u.width,T=u.height,w=document.documentElement.clientWidth,z=document.documentElement.clientHeight,Y=-E+m,x=-S+g,ee=w-E-h+m,I=z-S-T+g,W=j=>{const $=Math.min(Math.max(m+j.clientX-i,Y),ee),D=Math.min(Math.max(g+j.clientY-o,x),I);l={offsetX:$,offsetY:D},e.value.style.transform=`translate(${de($)}, ${de(D)})`},K=()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",K)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",K)},a=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",s)},r=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",s)};Ee(()=>{Pe(()=>{t.value?a():r()})}),we(()=>{r()})},an=(e,n={})=>{Me(e)||Re("[useLockscreen]","You need to pass a ref param to this function");const t=n.ns||ke("popup"),l=Xe(()=>t.bm("parent","hidden"));if(!re||ce(document.body,l.value))return;let s=0,a=!1,r="0";const d=()=>{setTimeout(()=>{Ne(document==null?void 0:document.body,l.value),a&&document&&(document.body.style.width=r)},200)};Q(e,i=>{if(!i){d();return}a=!ce(document.body,l.value),a&&(r=document.body.style.width),s=tn(t.namespace.value);const o=document.documentElement.clientHeight<document.body.scrollHeight,m=He(document.body,"overflowY");s>0&&(o||m==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`),We(document.body,l.value)}),De(()=>d())},ln=(e,n)=>{let t;Q(()=>e.value,l=>{var s,a;l?(t=document.activeElement,Me(n)&&((a=(s=n.value).focus)==null||a.call(s))):t.focus()})},Ae=e=>{if(!e)return{onClick:ne,onMousedown:ne,onMouseup:ne};let n=!1,t=!1;return{onClick:r=>{n&&t&&e(r),n=t=!1},onMousedown:r=>{n=r.target===r.currentTarget},onMouseup:r=>{t=r.target===r.currentTarget}}},le="_trap-focus-children",A=[],Ce=e=>{if(A.length===0)return;const n=A[A.length-1][le];if(n.length>0&&e.code===Ue.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const t=e.shiftKey,l=e.target===n[0],s=e.target===n[n.length-1];l&&t&&(e.preventDefault(),n[n.length-1].focus()),s&&!t&&(e.preventDefault(),n[0].focus())}},rn={beforeMount(e){e[le]=fe(e),A.push(e),A.length<=1&&document.addEventListener("keydown",Ce)},updated(e){N(()=>{e[le]=fe(e)})},unmounted(){A.shift(),A.length===0&&document.removeEventListener("keydown",Ce)}},un=Fe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:me([String,Array,Object])},zIndex:{type:me([String,Number])}}),dn={click:e=>e instanceof MouseEvent},cn="overlay";var fn=_({name:"ElOverlay",props:un,emits:dn,setup(e,{slots:n,emit:t}){const l=ke(cn),s=i=>{t("click",i)},{onClick:a,onMousedown:r,onMouseup:d}=Ae(e.customMaskEvent?void 0:s);return()=>e.mask?p("div",{class:[l.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:r,onMouseup:d},[ae(n,"default")],te.STYLE|te.CLASS|te.PROPS,["onClick","onMouseup","onMousedown"]):Ye("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[ae(n,"default")])}});const mn=fn,vn=_({name:"ElMessageBox",directives:{TrapFocus:rn},components:{ElButton:Ve,ElFocusTrap:Ke,ElInput:Le,ElOverlay:mn,ElIcon:je,...qe},inheritAttrs:!1,props:{buttonSize:{type:String,validator:on},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{locale:t,zIndex:l,ns:s,size:a}=nn("message-box",P(()=>e.buttonSize)),{t:r}=t,{nextZIndex:d}=l,i=C(!1),o=Be({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:d()}),m=P(()=>{const f=o.type;return{[s.bm("icon",f)]:f&&ve[f]}}),g=pe(),u=pe(),E=P(()=>o.icon||ve[o.type]||""),S=P(()=>!!o.message),h=C(),T=C(),w=C(),z=C(),Y=C(),x=P(()=>o.confirmButtonClass);Q(()=>o.inputValue,async f=>{await N(),e.boxType==="prompt"&&f!==null&&D()},{immediate:!0}),Q(()=>i.value,f=>{var M,O;f&&(e.boxType!=="prompt"&&(o.autofocus?w.value=(O=(M=Y.value)==null?void 0:M.$el)!=null?O:h.value:w.value=h.value),o.zIndex=d()),e.boxType==="prompt"&&(f?N().then(()=>{var ue;z.value&&z.value.$el&&(o.autofocus?w.value=(ue=ze())!=null?ue:h.value:w.value=h.value)}):(o.editorErrorMessage="",o.validateError=!1))});const ee=P(()=>e.draggable);sn(h,T,ee),Ee(async()=>{await N(),e.closeOnHashChange&&window.addEventListener("hashchange",I)}),we(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",I)});function I(){i.value&&(i.value=!1,N(()=>{o.action&&n("action",o.action)}))}const W=()=>{e.closeOnClickModal&&$(o.distinguishCancelAndClose?"close":"cancel")},K=Ae(W),j=f=>{if(o.inputType!=="textarea")return f.preventDefault(),$("confirm")},$=f=>{var M;e.boxType==="prompt"&&f==="confirm"&&!D()||(o.action=f,o.beforeClose?(M=o.beforeClose)==null||M.call(o,f,o,I):I())},D=()=>{if(e.boxType==="prompt"){const f=o.inputPattern;if(f&&!f.test(o.inputValue||""))return o.editorErrorMessage=o.inputErrorMessage||r("el.messagebox.error"),o.validateError=!0,!1;const M=o.inputValidator;if(typeof M=="function"){const O=M(o.inputValue);if(O===!1)return o.editorErrorMessage=o.inputErrorMessage||r("el.messagebox.error"),o.validateError=!0,!1;if(typeof O=="string")return o.editorErrorMessage=O,o.validateError=!0,!1}}return o.editorErrorMessage="",o.validateError=!1,!0},ze=()=>{const f=z.value.$refs;return f.input||f.textarea},ie=()=>{$("close")},Oe=()=>{e.closeOnPressEscape&&ie()};return e.lockScroll&&an(i),ln(i),{...Ze(o),ns:s,overlayEvent:K,visible:i,hasMessage:S,typeClass:m,contentId:g,inputId:u,btnSize:a,iconComponent:E,confirmButtonClasses:x,rootRef:h,focusStartRef:w,headerRef:T,inputRef:z,confirmRef:Y,doClose:I,handleClose:ie,onCloseRequested:Oe,handleWrapperClick:W,handleInputEnter:j,handleAction:$,t:r}}}),pn=["aria-label","aria-describedby"],yn=["aria-label"],gn=["id"];function hn(e,n,t,l,s,a){const r=V("el-icon"),d=V("close"),i=V("el-input"),o=V("el-button"),m=V("el-focus-trap"),g=V("el-overlay");return y(),k(Je,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=u=>e.$emit("vanish")),persisted:""},{default:b(()=>[oe(p(g,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:b(()=>[c("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:v(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...u)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...u)),onMousedown:n[9]||(n[9]=(...u)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...u)),onMouseup:n[10]||(n[10]=(...u)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...u))},[p(m,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:b(()=>[c("div",{ref:"rootRef",class:v([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:ye(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=q(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(y(),U("div",{key:0,ref:"headerRef",class:v(e.ns.e("header"))},[c("div",{class:v(e.ns.e("title"))},[e.iconComponent&&e.center?(y(),k(r,{key:0,class:v([e.ns.e("status"),e.typeClass])},{default:b(()=>[(y(),k(Z(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),c("span",null,X(e.title),1)],2),e.showClose?(y(),U("button",{key:0,type:"button",class:v(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=u=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=G(q(u=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[p(r,{class:v(e.ns.e("close"))},{default:b(()=>[p(d)]),_:1},8,["class"])],42,yn)):R("v-if",!0)],2)):R("v-if",!0),c("div",{id:e.contentId,class:v(e.ns.e("content"))},[c("div",{class:v(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(y(),k(r,{key:0,class:v([e.ns.e("status"),e.typeClass])},{default:b(()=>[(y(),k(Z(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),e.hasMessage?(y(),U("div",{key:1,class:v(e.ns.e("message"))},[ae(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(y(),k(Z(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(y(),k(Z(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:b(()=>[L(X(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):R("v-if",!0)],2),oe(c("div",{class:v(e.ns.e("input"))},[p(i,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=u=>e.inputValue=u),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:v({invalid:e.validateError}),onKeydown:G(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),c("div",{class:v(e.ns.e("errormsg")),style:ye({visibility:e.editorErrorMessage?"visible":"hidden"})},X(e.editorErrorMessage),7)],2),[[se,e.showInput]])],10,gn),c("div",{class:v(e.ns.e("btns"))},[e.showCancelButton?(y(),k(o,{key:0,loading:e.cancelButtonLoading,class:v([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=u=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=G(q(u=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:b(()=>[L(X(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):R("v-if",!0),oe(p(o,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:v([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=u=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=G(q(u=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:b(()=>[L(X(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[se,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,pn)]),_:3},8,["z-index","overlay-class","mask"]),[[se,e.visible]])]),_:3})}var bn=Ge(vn,[["render",hn],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const F=new Map,Cn=e=>{let n=document.body;return e.appendTo&&(Se(e.appendTo)&&(n=document.querySelector(e.appendTo)),be(e.appendTo)&&(n=e.appendTo),be(n)||(n=document.body)),n},En=(e,n,t=null)=>{const l=p(bn,e,he(e.message)||Te(e.message)?{default:he(e.message)?e.message:()=>e.message}:null);return l.appContext=t,Ie(l,n),Cn(e).appendChild(n.firstElementChild),l.component},wn=()=>document.createElement("div"),Mn=(e,n)=>{const t=wn();e.onVanish=()=>{Ie(null,t),F.delete(s)},e.onAction=a=>{const r=F.get(s);let d;e.showInput?d={value:s.inputValue,action:a}:d=a,e.callback?e.callback(d,l.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?r.reject("close"):r.reject("cancel"):r.resolve(d)};const l=En(e,t,n),s=l.proxy;for(const a in e)ge(e,a)&&!ge(s.$props,a)&&(s[a]=e[a]);return s.visible=!0,s};function H(e,n=null){if(!re)return Promise.reject();let t;return Se(e)||Te(e)?e={message:e}:t=e.callback,new Promise((l,s)=>{const a=Mn(e,n??H._context);F.set(a,{options:e,callback:t,resolve:l,reject:s})})}const kn=["alert","confirm","prompt"],Bn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};kn.forEach(e=>{H[e]=Sn(e)});function Sn(e){return(n,t,l,s)=>{let a="";return Qe(t)?(l=t,a=""):_e(t)?a="":a=t,H(Object.assign({title:a,message:n,type:"",...Bn[e]},l,{boxType:e}),s)}}H.close=()=>{F.forEach((e,n)=>{n.doClose()}),F.clear()};H._context=null;const B=H;B.install=e=>{B._context=e._context,e.config.globalProperties.$msgbox=B,e.config.globalProperties.$messageBox=B,e.config.globalProperties.$alert=B.alert,e.config.globalProperties.$confirm=B.confirm,e.config.globalProperties.$prompt=B.prompt};const Tn=B,In={class:"drag-verify"},$n={class:"text"},Vn=_({__name:"dragVerify",props:{value:{type:Boolean,defalut:!1},successIcon:{type:String,default:"iconfont icon-status-nor"},successText:{type:String,default:"验证成功"},startIcon:{type:String,default:"iconfont icon-login-slid"},startText:{type:String,default:"拖动滑块到最右边"}},emits:["update:value"],setup(e,{emit:n}){const t=C(!1),l="ontouchstart"in document.documentElement,s=l?"touchmove":"mousemove",a=l?"touchend":"mouseup",r=d=>{let i=0;const o=40,m=document.querySelector(".drag-verify .block"),g=d.clientX||d.touches[0].pageX,E=m.offsetWidth-o;if(t.value)return!1;const S=T=>{i=(T.clientX||T.touches[0].pageX)-g,i<=0&&(i=0),i>=E-o&&(i=E),m.style.transition=".1s all",m.style.transform=`translateX(${i}px)`},h=()=>{i!==E?(m.style.transition=".5s all",m.style.transform="translateX(0)"):(t.value=!0,n("update:value",t.value)),document.removeEventListener(s,S),document.removeEventListener(a,h)};document.addEventListener(s,S),document.addEventListener(a,h)};return(d,i)=>(y(),U("div",In,[c("div",{class:v(["range",t.value?"success":""])},[c("div",{class:"block",onMousedown:r,onTouchstart:r},[c("i",{class:v(t.value?e.successIcon:e.startIcon)},null,2)],32),c("span",$n,X(t.value?e.successText:e.startText),1)],2)]))}});const Ln=$e(Vn,[["__scopeId","data-v-bc650e1d"]]),An={class:"check-form"},zn={class:"check-form-layout"},On={class:"verify"},Pn={class:"sub"},Rn=_({__name:"checkform",setup(e){const n=C(""),t=C(""),l=C(""),s=Be({isVerifyPass:!1}),a=()=>{let d="^(?![A-Za-z0-9]+$)(?![a-z0-9\\W]+$)(?![A-Za-z\\W]+$)(?![A-Z0-9\\W]+$)[a-zA-Z0-9\\W]{8,20}$";if(n.value==""){r("请输入用户名！");return}if(!t.value.match(d)){r("密码格式错误！");return}if(t.value!=l.value){r("两次密码不相同！");return}if(!s.isVerifyPass){r("请先验证成功后再提交注册");return}if(s.isVerifyPass){r("注册成功");return}},r=d=>{Tn.alert(d,"提示",{})};return(d,i)=>{const o=V("mymenu"),m=Le,g=Ve;return y(),U(xe,null,[c("div",null,[p(o)]),c("div",An,[c("div",zn,[c("p",null,[L("用户名:"),p(m,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=u=>n.value=u),style:{width:"300px"}},null,8,["modelValue"])]),c("p",null,[L("密码:"),p(m,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=u=>t.value=u),type:"password","show-password":"",placeholder:"大小写字母,特殊字符数字，不低于8位",style:{width:"300px"}},null,8,["modelValue"])]),c("p",null,[L("确认密码:"),p(m,{modelValue:l.value,"onUpdate:modelValue":i[2]||(i[2]=u=>l.value=u),placeholder:"请再次输入密码",style:{width:"300px"}},null,8,["modelValue"])])])]),c("div",On,[p(Ln,{value:s.isVerifyPass,"onUpdate:value":i[3]||(i[3]=u=>s.isVerifyPass=u)},null,8,["value"])]),c("div",Pn,[p(g,{type:"success",size:"large",onClick:a},{default:b(()=>[L("注册")]),_:1})])],64)}}});const Wn=$e(Rn,[["__scopeId","data-v-bfb8d32c"]]);export{Wn as default};
